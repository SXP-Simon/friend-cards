# friend-cards
> ä½¿ç”¨Githubå·¥ä½œæµåŠ¨æ€ç”Ÿæˆ GitHub å¥½å‹åˆ—è¡¨å›¾ç‰‡ï¼Œä¸ºä½ çš„ä¸ªäººä¸»é¡µå¢æ·»å…‰å½©ã€‚

è¿™æ˜¯ä¸€ä¸ªä¸ºä½ çš„ GitHub ä¸ªäººä¸»é¡µç”ŸæˆåŠ¨æ€å¥½å‹åœˆå›¾ç‰‡çš„å·¥å…·ã€‚**æ ¸å¿ƒç‰¹è‰²æ˜¯ä½¿ç”¨ GitHub Actions å·¥ä½œæµè‡ªåŠ¨ç”Ÿæˆ**ï¼Œä½ åªéœ€è¦ä¿®æ”¹ JSON æ–‡ä»¶ï¼ŒGitHub ä¼šè‡ªåŠ¨è¿è¡Œè„šæœ¬å¹¶ç”Ÿæˆæœ€æ–°çš„å¥½å‹åˆ—è¡¨å›¾ç‰‡ã€‚

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

- **ğŸ”„ GitHub Actions è‡ªåŠ¨åŒ–**: é€šè¿‡ GitHub å·¥ä½œæµè‡ªåŠ¨ç”Ÿæˆå›¾ç‰‡ï¼Œæ— éœ€æœ¬åœ°ç¯å¢ƒ
- **ğŸ“ ç®€å•é…ç½®**: åªéœ€ä¿®æ”¹ `friends.json` æ–‡ä»¶ï¼Œæäº¤åè‡ªåŠ¨è§¦å‘ç”Ÿæˆ
- **ğŸ¨ ç²¾ç¾è®¾è®¡**: ç”Ÿæˆå¸¦æœ‰æ¸å˜å’ŒåŠ¨ç”»æ•ˆæœçš„ SVG/PNG å›¾ç‰‡
- **ğŸ‘¥ è‡ªåŠ¨è·å–å¤´åƒ**: è‡ªåŠ¨ä» GitHub è·å–ç”¨æˆ·å¤´åƒ
- **âš¡ å®æ—¶æ›´æ–°**: æ¯æ¬¡æäº¤éƒ½ä¼šè§¦å‘é‡æ–°ç”Ÿæˆï¼Œä¿æŒå›¾ç‰‡æœ€æ–°

## ğŸ“‹ GitHub Actions å·¥ä½œæµ

### å·¥ä½œæµè§¦å‘
- å½“ `assets/friends/friends.json` æ–‡ä»¶å‘ç”Ÿæ›´æ”¹æ—¶è‡ªåŠ¨è§¦å‘
- æ”¯æŒæ‰‹åŠ¨è§¦å‘ï¼ˆåœ¨ Actions é¡µé¢æ‰‹åŠ¨è¿è¡Œï¼‰
- å®šæ—¶è§¦å‘ï¼ˆå¯é€‰ï¼Œä¿æŒå›¾ç‰‡å®šæœŸæ›´æ–°ï¼‰

### å·¥ä½œæµæ­¥éª¤
1. **æ£€å‡ºä»£ç **: è·å–æœ€æ–°çš„ä»£ç 
2. **è®¾ç½® Node.js**: é…ç½® Node.js 20.x ç¯å¢ƒ
3. **å®‰è£…ä¾èµ–**: ä½¿ç”¨ pnpm å®‰è£…é¡¹ç›®ä¾èµ–
4. **ç”Ÿæˆå›¾ç‰‡**: è¿è¡Œ `pnpm run friends:generate` ç”Ÿæˆå›¾ç‰‡
5. **æäº¤æ›´æ–°**: è‡ªåŠ¨æäº¤ç”Ÿæˆçš„å›¾ç‰‡æ–‡ä»¶

## ğŸ› ï¸ **æœ¬åœ°å¼€å‘**è®¾ç½®

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/friend-cards.git
cd friend-cards
```

### 2. å®‰è£…ä¾èµ–

ç¡®ä¿ä½ å·²ç»å®‰è£…äº† Node.js (>=20.0.0) å’Œ pnpmã€‚

```bash
pnpm install
```

### 3. é…ç½® GitHub Token (æœ¬åœ°å¼€å‘éœ€è¦)

ä¸ºäº†é¿å…è¾¾åˆ° GitHub API çš„é€Ÿç‡é™åˆ¶ï¼Œå»ºè®®åˆ›å»ºä¸€ä¸ª Personal Access Token (PAT) å¹¶å°†å…¶è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ã€‚

1.  è®¿é—® [GitHub Tokens](https://github.com/settings/tokens) é¡µé¢åˆ›å»ºä¸€ä¸ªæ–°çš„ token (classic)ã€‚
2.  æˆäºˆ `public_repo` å’Œ `read:user` æƒé™ã€‚
3.  å¤åˆ¶ç”Ÿæˆçš„ tokenï¼Œå¹¶åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

    ```
    GITHUB_TOKEN=ä½ çš„_GITHUB_TOKEN
    ```

### 4. è‡ªå®šä¹‰å¥½å‹åˆ—è¡¨

æ‰“å¼€ `assets/friends/friends.json` æ–‡ä»¶ï¼Œæ ¹æ®ä½ çš„éœ€æ±‚æ·»åŠ æˆ–ä¿®æ”¹å¥½å‹ä¿¡æ¯ã€‚æ¯ä¸ªå¥½å‹å¯¹è±¡åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

- `username`: GitHub ç”¨æˆ·å (å¿…éœ€)ã€‚
- `name`: æ˜¾ç¤ºçš„åç§°ã€‚
- `bio`: ä¸ªäººç®€ä»‹æˆ–æè¿°ã€‚
- `relationship`: ä½ å’Œå¥½å‹çš„å…³ç³» (ä¾‹å¦‚ï¼š`Senior`, `Fellow`)ã€‚
- `githubUrl`: å¥½å‹çš„ GitHub ä¸»é¡µé“¾æ¥ã€‚

ç¤ºä¾‹ï¼š
```json
[
  {
    "username": "ywh555hhh",
    "name": "teapot1de",
    "bio": "HPC enthusiast",
    "relationship": "Senior",
    "githubUrl": "https://github.com/ywh555hhh"
  },
  {
    "username": "CAICAIIs",
    "name": "CAICAII",
    "bio": "Open Source",
    "relationship": "Fellow",
    "githubUrl": "https://github.com/CAICAIIs"
  }
]
```

### 5. æœ¬åœ°æµ‹è¯•ç”Ÿæˆ

è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æµ‹è¯•å›¾ç‰‡ç”Ÿæˆï¼š

```bash
pnpm run friends:generate
```

## ğŸ”„ ä½¿ç”¨ GitHub Actions è‡ªåŠ¨ç”Ÿæˆ

### æ–¹æ³•ä¸€ï¼šä¿®æ”¹ friends.json è§¦å‘
1. ç¼–è¾‘ `assets/friends/friends.json` æ–‡ä»¶
2. æäº¤å¹¶æ¨é€åˆ° GitHub
3. GitHub Actions ä¼šè‡ªåŠ¨è¿è¡Œå¹¶ç”Ÿæˆæ–°å›¾ç‰‡
4. ç”Ÿæˆçš„å›¾ç‰‡ä¼šè‡ªåŠ¨æäº¤åˆ°ä»“åº“

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨è§¦å‘
1. å‰å¾€ GitHub ä»“åº“çš„ Actions é¡µé¢
2. é€‰æ‹© "Generate Friends Cards" å·¥ä½œæµ
3. ç‚¹å‡» "Run workflow" æŒ‰é’®
4. é€‰æ‹©åˆ†æ”¯å¹¶è¿è¡Œ

### æ–¹æ³•ä¸‰ï¼šå®šæ—¶è§¦å‘ï¼ˆå¯é€‰ï¼‰
å¯ä»¥åœ¨ `.github/workflows/generate-friends.yml` ä¸­é…ç½®å®šæ—¶è§¦å‘ï¼š

```yaml
on:
  schedule:
    - cron: '0 0 * * 0'  # æ¯å‘¨æ—¥åˆå¤œè¿è¡Œ
```

## ğŸ“ ç”Ÿæˆç»“æœæ–‡ä»¶

### æ–‡ä»¶ä½ç½®
æ‰€æœ‰ç”Ÿæˆçš„æ–‡ä»¶éƒ½ä¿å­˜åœ¨ `assets/friends/generated/` ç›®å½•ä¸­ï¼š

- `friends.svg` - SVG æ ¼å¼çš„å¥½å‹å¡ç‰‡å›¾ç‰‡ï¼ˆçŸ¢é‡å›¾ï¼Œå¯ç¼©æ”¾ï¼Œé€‚åˆç½‘é¡µä½¿ç”¨ï¼‰
- `friends.png` - PNG æ ¼å¼çš„å¥½å‹å¡ç‰‡å›¾ç‰‡ï¼ˆä½å›¾ï¼Œé€‚åˆç›´æ¥åµŒå…¥å’Œåˆ†äº«ï¼‰

### æŸ¥çœ‹ç”Ÿæˆæ•ˆæœ
ç”Ÿæˆçš„å›¾ç‰‡æ•ˆæœå¯ä»¥åœ¨ä»¥ä¸‹ä½ç½®æŸ¥çœ‹ï¼š

- **SVG ç‰ˆæœ¬**: [assets/friends/generated/friends.svg](./assets/friends/generated/friends.svg)
- **PNG ç‰ˆæœ¬**: [assets/friends/generated/friends.png](./assets/friends/generated/friends.png)

### ä½¿ç”¨ç”Ÿæˆçš„å›¾ç‰‡
ä½ å¯ä»¥å°†ç”Ÿæˆçš„å›¾ç‰‡ç”¨äºï¼š

1. **GitHub Profile README**: åœ¨ä½ çš„ä¸ªäººä¸»é¡µ README ä¸­å¼•ç”¨å›¾ç‰‡
2. **ä¸ªäººç½‘ç«™**: åµŒå…¥åˆ°ä½ çš„ä¸ªäººç½‘ç«™æˆ–åšå®¢
3. **ç¤¾äº¤åª’ä½“**: åˆ†äº«åˆ°ç¤¾äº¤åª’ä½“å¹³å°
4. **æ–‡æ¡£**: åœ¨é¡¹ç›®æ–‡æ¡£ä¸­å±•ç¤ºå›¢é˜Ÿæˆå‘˜

ç¤ºä¾‹ç”¨æ³•ï¼ˆåœ¨ GitHub Profile README ä¸­ï¼‰ï¼š
```markdown
## ğŸ‘¥ æˆ‘çš„å¥½å‹åœˆ

![Friends Cards](./assets/friends/generated/friends.png)
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ .github
â”‚   â””â”€â”€ workflows
â”‚       â””â”€â”€ generate-friends.yml  # GitHub Actions å·¥ä½œæµé…ç½®
â”œâ”€â”€ assets
â”‚   â”œâ”€â”€ friends
â”‚   â”‚   â”œâ”€â”€ avatars/      # å­˜å‚¨ä¸‹è½½çš„å¤´åƒ
â”‚   â”‚   â”œâ”€â”€ generated/    # å­˜å‚¨ç”Ÿæˆçš„å›¾ç‰‡
â”‚   â”‚   â””â”€â”€ friends.json  # å¥½å‹åˆ—è¡¨æ•°æ®
â”‚   â””â”€â”€ ...
â”œâ”€â”€ src
â”‚   â””â”€â”€ friends
â”‚       â””â”€â”€ generate-friends.js # ä¸»è¦çš„ç”Ÿæˆè„šæœ¬
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ”§ å·¥ä½œæµé…ç½®è¯´æ˜

GitHub Actions å·¥ä½œæµæ–‡ä»¶ä½äº `.github/workflows/generate-friends.yml`ï¼Œä¸»è¦é…ç½®åŒ…æ‹¬ï¼š

- **è§¦å‘æ¡ä»¶**: ç›‘å¬ `friends.json` æ–‡ä»¶å˜åŒ–
- **ç¯å¢ƒ**: Node.js 20.x + pnpm
- **æƒé™**: éœ€è¦ `contents: write` æƒé™æ¥æäº¤ç”Ÿæˆçš„å›¾ç‰‡
- **ç¼“å­˜**: ä½¿ç”¨ pnpm ç¼“å­˜åŠ é€Ÿä¾èµ–å®‰è£…

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **GitHub Token**: å·¥ä½œæµä¸­å·²é…ç½® `GITHUB_TOKEN`ï¼Œæ— éœ€é¢å¤–è®¾ç½®
2. **æ–‡ä»¶æƒé™**: ç¡®ä¿å·¥ä½œæµæœ‰å†™å…¥æƒé™æ¥æäº¤ç”Ÿæˆçš„å›¾ç‰‡
3. **API é™åˆ¶**: GitHub Actions ç¯å¢ƒä¸­çš„ API é™åˆ¶æ›´å®½æ¾
4. **ç¼“å­˜ä¼˜åŒ–**: å·¥ä½œæµä½¿ç”¨ç¼“å­˜æ¥åŠ é€Ÿé‡å¤è¿è¡Œ
